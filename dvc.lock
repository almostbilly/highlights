schema: '2.0'
stages:
  collect_train:
    cmd: python src/data/collector.py src/conf/params.yaml train
    deps:
    - path: src/data/collector.py
      hash: md5
      md5: ea7d3fb740548debedb60df2ef168506
      size: 1830
    params:
      src/conf/params.yaml:
        data_collector_config.n_batches: 100
        data_collector_config.video_id_train: '2039157631'
    outs:
    - path: data/raw/chat_train.csv
      hash: md5
      md5: 7a91c43edc8da8b87c1d787c4d67a2a1
      size: 11637900
    - path: data/raw/clips_train.csv
      hash: md5
      md5: 2cce7ff8e5d611f803e38f4b82bca285
      size: 137041
  collect_test:
    cmd: python src/data/collector.py src/conf/params.yaml test
    deps:
    - path: src/data/collector.py
      hash: md5
      md5: ea7d3fb740548debedb60df2ef168506
      size: 1830
    params:
      src/conf/params.yaml:
        data_collector_config.n_batches: 100
        data_collector_config.video_id_test: '2036131985'
    outs:
    - path: data/raw/chat_test.csv
      hash: md5
      md5: 3c6a82f5e9b2ed00b80966659560b8be
      size: 4316048
    - path: data/raw/clips_test.csv
      hash: md5
      md5: 16e26b45725bf94a272a910f5bfcd3bc
      size: 134996
  process_train:
    cmd: python src/features/process.py src/conf/params.yaml train
    deps:
    - path: data/raw/chat_train.csv
      hash: md5
      md5: 7a91c43edc8da8b87c1d787c4d67a2a1
      size: 11637900
    - path: src/features/process.py
      hash: md5
      md5: 00edd32ae94defcf873c7c45a58d944e
      size: 1372
    params:
      src/conf/params.yaml:
        processing_config.paste_min_words: 3
        processing_config.window_size: 5
    outs:
    - path: data/processed/chat_train.csv
      hash: md5
      md5: 02ef8507c530ff2fbd9e2d615640a092
      size: 13031484
  process_test:
    cmd: python src/features/process.py src/conf/params.yaml test
    deps:
    - path: data/raw/chat_test.csv
      hash: md5
      md5: 3c6a82f5e9b2ed00b80966659560b8be
      size: 4316048
    - path: src/features/process.py
      hash: md5
      md5: 00edd32ae94defcf873c7c45a58d944e
      size: 1372
    params:
      src/conf/params.yaml:
        processing_config.paste_min_words: 3
        processing_config.window_size: 5
    outs:
    - path: data/processed/chat_test.csv
      hash: md5
      md5: 781fc415cdf19fc66286e65b606b612c
      size: 4951074
  resample_train:
    cmd: python src/features/resample.py src/conf/params.yaml train
    deps:
    - path: data/processed/chat_train.csv
      hash: md5
      md5: 02ef8507c530ff2fbd9e2d615640a092
      size: 13031484
    - path: data/raw/clips_train.csv
      hash: md5
      md5: 2cce7ff8e5d611f803e38f4b82bca285
      size: 137041
    - path: src/features/resample.py
      hash: md5
      md5: d71b6d07c1c8248bab81c4814898db55
      size: 4165
    params:
      src/conf/params.yaml:
        undersample_config.random_state: 42
    outs:
    - path: data/resampled/chat_train.csv
      hash: md5
      md5: ad77cd3a78f9a438608ebe45f9fe19b1
      size: 148931
  resample_test:
    cmd: python src/features/resample.py src/conf/params.yaml test
    deps:
    - path: data/processed/chat_test.csv
      hash: md5
      md5: 781fc415cdf19fc66286e65b606b612c
      size: 4951074
    - path: data/raw/clips_test.csv
      hash: md5
      md5: 16e26b45725bf94a272a910f5bfcd3bc
      size: 134996
    - path: src/features/resample.py
      hash: md5
      md5: d71b6d07c1c8248bab81c4814898db55
      size: 4165
    outs:
    - path: data/resampled/chat_test.csv
      hash: md5
      md5: 15e102d5883e305f8eb5d911e4ae4c62
      size: 696212
